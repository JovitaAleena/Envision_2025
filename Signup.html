<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TeenLearn - Sign Up</title>
<style>
  body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #e6d6f5, #f5e9ff);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: 20px;
  }
  .container {
    background: white;
    padding: 25px;
    border-radius: 16px;
    width: 90%;
    max-width: 420px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    animation: fadeIn 0.4s ease;
  }
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  h1 {
    text-align: center;
    color: #5d3b76;
  }
  label {
    display: block;
    margin-top: 12px;
    font-weight: 500;
    color: #5d3b76;
  }
  input, select {
    width: 100%;
    padding: 10px;
    margin-top: 6px;
    border: 1px solid #c8aee0;
    border-radius: 12px;
    background: #faf7ff;
    font-size: 14px;
  }
  button {
    width: 100%;
    padding: 12px;
    margin-top: 20px;
    background: #a678d8;
    color: white;
    font-size: 15px;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    transition: background 0.3s;
  }
  button:hover {
    background: #8e5cc7;
  }
  .progress {
    background: #ddd;
    border-radius: 8px;
    overflow: hidden;
    margin-bottom: 15px;
  }
  .bar {
    background: #a678d8;
    color: white;
    padding: 5px;
    text-align: center;
    font-size: 13px;
  }
  .chips {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-top: 10px;
  }
  .chip {
    padding: 6px 10px;
    background: #e6d6f5;
    border-radius: 20px;
    cursor: pointer;
    transition: 0.2s;
  }
  .chip.selected {
    background: #a678d8;
    color: white;
  }
</style>
</head>
<body>

<!-- Step 1 -->
<div class="container" id="step1">
  <h1>TeenLearn</h1>
  <div class="progress"><div class="bar" style="width:50%">Step 1 of 2</div></div>
  <form id="signupForm">
    <label>Email</label>
    <input type="email" id="email" required>
    <label>Password</label>
    <input type="password" id="password" required>
    <small>Min 8 chars, 1 uppercase, 1 number</small>
    <label>Confirm Password</label>
    <input type="password" id="confirmPassword" required>
    <button type="submit">Sign Up</button>
  </form>
</div>

<!-- Step 2 -->
<div class="container" id="step2" style="display:none;">
  <h1>TeenLearn</h1>
  <div class="progress"><div class="bar" style="width:100%">Step 2 of 2</div></div>
  <form id="profileForm">
    <label>Name</label>
    <input type="text" id="name" required>
    <label>Age</label>
    <input type="number" id="age" min="13" max="20" required>
    <label>Education Level</label>
    <select id="education" required>
      <option value="">-- Select --</option>
      <option value="School">School</option>
      <option value="College">College</option>
      <option value="University">University</option>
    </select>
    <label>Subjects Learnt</label>
    <div class="chips" id="subjects">
      <span class="chip">Math</span>
      <span class="chip">Science</span>
      <span class="chip">English</span>
      <span class="chip">History</span>
      <span class="chip">Computer Science</span>
      <span class="chip add">+</span>
    </div>
    <button type="submit">Continue</button>
  </form>
</div>

<!-- Welcome -->
<div class="container" id="welcome" style="display:none;">
  <h1 id="welcomeMessage">Welcome!</h1>
  <p id="subjectSummary"></p>
</div>

<script>
  let selectedSubjects = [];

  // Step 1 - Signup Validation
  document.getElementById('signupForm').addEventListener('submit', function(e) {
    e.preventDefault();
    let pass = document.getElementById('password').value;
    let confirm = document.getElementById('confirmPassword').value;
    let regex = /^(?=.*[A-Z])(?=.*\d).{8,}$/;
    if (!regex.test(pass)) {
      alert('Password must be at least 8 characters, include one uppercase letter and one number.');
      return;
    }
    if (pass !== confirm) {
      alert('Passwords do not match.');
      return;
    }
    document.getElementById('step1').style.display = 'none';
    document.getElementById('step2').style.display = 'block';
  });

  // Step 2 - Subject selection
  document.getElementById('subjects').addEventListener('click', function(e) {
    if (e.target.classList.contains('chip')) {
      if (e.target.classList.contains('add')) {
        let newSub = prompt('Enter new subject:');
        if (newSub) {
          let newChip = document.createElement('span');
          newChip.classList.add('chip', 'selected');
          newChip.textContent = newSub;
          selectedSubjects.push(newSub);
          e.target.parentNode.insertBefore(newChip, e.target);
        }
      } else {
        e.target.classList.toggle('selected');
        if (e.target.classList.contains('selected')) {
          selectedSubjects.push(e.target.textContent);
        } else {
          selectedSubjects = selectedSubjects.filter(s => s !== e.target.textContent);
        }
      }
    }
  });

  // Profile submission
  document.getElementById('profileForm').addEventListener('submit', function(e) {
    e.preventDefault();
    let profile = {
      name: document.getElementById('name').value,
      age: document.getElementById('age').value,
      education: document.getElementById('education').value,
      subjects: selectedSubjects
    };
    document.getElementById('step2').style.display = 'none';
    document.getElementById('welcome').style.display = 'block';
    document.getElementById('welcomeMessage').textContent = `Welcome, ${profile.name}!`;
    document.getElementById('subjectSummary').textContent = `You are learning: ${profile.subjects.join(', ')} at ${profile.education}`;
  });
</script>

</body>
</html>
