<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <div class="page-overlay"></div>
    <div class="navbar">
        <div class="navbar-inner">
            <div class="logo">
                <span style="font-size: 1.5em; vertical-align: middle; margin-right: 8px;">üéì</span>Teen <span>Learn</span>
            </div>
            <nav>
            <!-- Removed Login & Register and Register Now button as per new design -->
                <a href="Peer Posts.html">Posts</a>
                <a href="Study Session.html">Study Session</a>
                <a href="Progress Page.html">Progress Page</a>
                <a href="badge page.html">Badges</a>
                <a href="about.html">About</a>
            </nav>
            <div class="nav-actions">
                    <!-- Removed Login & Register and Register Now button from top right corner -->
            </div>
        </div>
    </div>
    <div class="center-logo-animate" style="background:none;box-shadow:none;padding:0;border-radius:0;">
        <span style="font-size:2.5em;vertical-align:middle;margin-right:18px;">üéì</span>
        <span style="font-size:2.5em;font-weight:700;letter-spacing:2px;">TeenLearn</span>
        <div class="spin-phrase">
            Where young minds grow
            <span class="spin-words">
                <span>brighter</span>
                <span>stronger</span>
                <span>bolder</span>
                <span>sharper</span>
                <span>wiser</span>
            </span>
        </div>
        <div class="home-btn-row">
            <a href="login.html" class="btn-home-login">Login</a>
            <a href="register.html" class="btn-home-register">Register Now</a>
        </div>
    </div>
    <script>
    // Spin effect for the last word
    const words = document.querySelectorAll('.spin-words span');
    let idx = 0;
    setInterval(() => {
        words.forEach((el, i) => el.style.display = i === idx ? 'inline' : 'none');
        idx = (idx + 1) % words.length;
    }, 1200);
    // Initialize
    words.forEach((el, i) => el.style.display = i === 0 ? 'inline' : 'none');
    
    // Ensure navbar links work properly
    document.addEventListener('DOMContentLoaded', function() {
        const navLinks = document.querySelectorAll('.navbar nav a');
        navLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault(); // Prevent default navigation
                
                const href = this.getAttribute('href');
                
                // Check if user is logged in
                const isLoggedIn = localStorage.getItem('teenlearn_user_logged_in') === 'true';
                
                // Allow access to about.html without login
                if (href === 'about.html') {
                    window.location.href = href;
                    return;
                }
                
                // For all other pages, check login status
                if (isLoggedIn) {
                    // User is logged in, allow navigation
                    window.location.href = href;
                } else {
                    // User is not logged in, redirect to login page
                    showLoginPrompt(href);
                }
            });
        });
    });

    // Function to show login prompt and redirect
    function showLoginPrompt(targetPage) {
        // Store the target page in localStorage so we can redirect after login
        localStorage.setItem('teenlearn_redirect_after_login', targetPage);
        
        // Create a more elegant notification
        showNotification('Please log in to access this page. Redirecting to login...', 'info');
        
        // Redirect to login page after short delay
        setTimeout(() => {
            window.location.href = 'login.html';
        }, 1500);
    }

    // Function to show notifications
    function showNotification(message, type = 'info') {
        // Remove existing notification if any
        const existing = document.querySelector('.notification');
        if (existing) {
            existing.remove();
        }

        // Create notification element
        const notification = document.createElement('div');
        notification.className = `notification ${type}`;
        notification.innerHTML = `
            <div class="notification-content">
                <span class="notification-icon">${type === 'info' ? '‚ÑπÔ∏è' : '‚ö†Ô∏è'}</span>
                <span class="notification-message">${message}</span>
            </div>
        `;
        
        // Add styles
        notification.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 10px;
            padding: 15px 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            z-index: 10000;
            transform: translateX(100%);
            transition: transform 0.3s ease;
            border-left: 4px solid #667eea;
            color: #333;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        `;

        // Add to page
        document.body.appendChild(notification);
        
        // Animate in
        setTimeout(() => {
            notification.style.transform = 'translateX(0)';
        }, 100);
        
        // Remove after delay
        setTimeout(() => {
            notification.style.transform = 'translateX(100%)';
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.remove();
                }
            }, 300);
        }, 3000);
    }
    </script>
</body>
</html>
